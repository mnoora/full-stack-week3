{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/NotificationSuccess.js","components/NotificationError.js","components/App.js","index.js"],"names":["Person","_ref2","person","deletePerson","react_default","a","createElement","name","number","onClick","id","Persons","_ref","persons","map","Persons_Person","key","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Filter","findName","handleFindNameChange","baseUrl","services_persons","axios","get","newObject","post","delete","concat","put","then","response","data","NotificationSuccess","message","className","NotificationError","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFindName","_useState9","_useState10","successMessage","setSuccessMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","personService","personsToShow","filter","toLowerCase","includes","components_NotificationSuccess","components_NotificationError","components_Filter","event","console","log","target","components_PersonForm","preventDefault","sameName","length","personObject","setTimeout","catch","error","window","confirm","updatePersonObject","p","n","components_Persons","find","pe","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.26b3c1b9.chunk.js","sourcesContent":["import React from 'react'\n\nconst Persons = ({persons, deletePerson}) => {\n    return (\n        <div>\n          {persons.map(person =>\n          <Person key={person.name} person = {person} deletePerson={deletePerson} /> )}\n        </div>\n    )\n}\n\nconst Person = ({person, deletePerson}) => {\n    return (\n        <p> {person.name} {person.number} <button onClick={() => deletePerson(person.id)}>poista</button> </p>\n    )\n\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({addPerson,newName,handleNameChange,newNumber,handleNumberChange}) => {\n    return (\n      <form onSubmit={addPerson}>\n        <div>\n          nimi: <input \n          value= {newName}\n          onChange={handleNameChange} \n          />\n        </div>\n        <div>\n            numero: <input \n            value= {newNumber}\n            onChange={handleNumberChange} \n            />\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ findName, handleFindNameChange}) => {\n    return (\n        <div>\n        rajaa näytettäviä <input value={findName} onChange={handleFindNameChange} />\n        </div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst deleteP = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, deleteP, update }","import React from 'react'\n\nconst NotificationSuccess = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"success\">\n        {message}\n      </div>\n    )\n  }\n\nexport default NotificationSuccess","import React from 'react'\n\nconst NotificationError = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\nexport default NotificationError","import React, { useState, useEffect } from 'react'\nimport Persons from './Persons'\nimport PersonForm from './PersonForm'\nimport Filter from './Filter'\nimport personService from '../services/persons'\nimport NotificationSuccess from './NotificationSuccess';\nimport NotificationError from './NotificationError';\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ findName, setFindName] = useState('')\n  const [ successMessage, setSuccessMessage] = useState(null)\n  const [ errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(findName.toLowerCase()))\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const sameName = persons.filter(person => (person.name === newName))\n    if(sameName.length === 0){\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1,\n      }\n\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(personObject))\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(`Lisättiin ${personObject.name}` )\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        }).catch(error => {\n          setErrorMessage(`${error.response.data.error}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          console.log(error.response.data)\n        })\n    } else {\n      if(window.confirm(`${sameName[0].name} on jo luettelossa, korvataanko vanha numero uudella?`)){\n        const updatePersonObject = {\n          name: newName,\n          number: newNumber,\n          id: persons.length + 1,\n        }\n        personService\n          .update(sameName[0].id, updatePersonObject)\n          .then(response => {\n            setPersons(persons.map(p => p.id !== sameName[0].id ? p :response ))\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Henkilö ${sameName[0].name} oli jo poistettu`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(n => n.id !== sameName[0].id))\n          })\n          \n      }\n    }\n  }\n\n  const deletePerson = (id) => {\n\n    const person = persons.find(person => person.id === id)\n\n    if( window.confirm(`Poistetaanko ${person.name}`)){\n      personService\n        .deleteP(person.id)\n        setPersons(persons.filter(pe => pe.id !== person.id ))\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleFindNameChange = (event) => {\n    console.log(event.target.value)\n    setFindName(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <NotificationSuccess message={successMessage} />\n      <NotificationError message={errorMessage} />\n      <Filter findName={findName} handleFindNameChange={handleFindNameChange} />\n      <h2> lisää uusi</h2>\n      <PersonForm addPerson={addPerson}\n       newName={newName}\n       handleNameChange={handleNameChange}\n       newNumber={newNumber}\n       handleNumberChange={handleNumberChange}/>\n      <h3>Numerot</h3>\n      <Persons persons={personsToShow} deletePerson={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)"],"sourceRoot":""}